!function(t){function e(e){for(var a,o,l=e[0],c=e[1],r=e[2],u=0,v=[];u<l.length;u++)o=l[u],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&v.push(i[o][0]),i[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);for(d&&d(e);v.length;)v.shift()();return n.push.apply(n,r||[]),s()}function s(){for(var t,e=0;e<n.length;e++){for(var s=n[e],a=!0,l=1;l<s.length;l++){var c=s[l];0!==i[c]&&(a=!1)}a&&(n.splice(e--,1),t=o(o.s=s[0]))}return t}var a={},i={33:0},n=[];function o(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=t,o.c=a,o.d=function(t,e,s){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(s,a,function(e){return t[e]}.bind(null,a));return s},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="";var l=window.webpackJsonp=window.webpackJsonp||[],c=l.push.bind(l);l.push=e,l=l.slice();for(var r=0;r<l.length;r++)e(l[r]);var d=c;n.push([31,1,0]),s()}({"1a37":function(t,e,s){},31:function(t,e,s){t.exports=s("eef0")},6548:function(t,e,s){t.exports=s.p+"img/deleteGrey.c576e61e.svg"},"6b66":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAkCAYAAAD7PHgWAAAFn0lEQVRYhc2Ya2wUVRTHfzO7ZQpUQIuiJjwKUbAsisIIKGoipiDhC8ag8YFGUdQago8P6oBRyGCUaIgaxPAwxCgR9QMmPCwiUZCHYw2RJVJpaYNgKW0F2lI63e6OOdu7sF321bqg/y/d3rmP3z333nPOvRo9kGm7+cBkYAIQAIYDg4C+gPTZAjQANcB+YC+ww7GMM90dLWtA03Z1YBrwBHAv0EdB7AOqgOPAacADBgBXAUXAzQreBb4DPgG+cSwjlBNABfYosBAYAfwKfA5sdCzjYJaTE9AZwCxl+T+BJcAqxzI6egxo2u5oYCUwCdgALHYsozwbqDR9jgJeAR4BDgBPOZbxc7cBTdt9EvgQqATmOpax69+AJen/JuBjYJwAO5bxbtaApu0uBhYAy4EXHctwcwkXN44PeBOwgBXA845lhOPr+JM0WqTgXnAsY1k2A5UFPb/aBrK/xqpTLYekPyCHQU7vMbUav8iJLglo+xTMAtN2K4A1qrtn4/vuYkHTdmVffAq85FjGe1mAFcusgQeBy7OZTJwOq8O2vCSg1Zq2OxtYm2iYc4Cm7Q5TPutrxzIezwAmp/Id4P5uQiVTu9pKb1gb2l8VQMFxLOM3qavHNZBNehIozQA3FwjmCE7UC5gPHFw4vdf3wB/AB7GPUUDTdscA96nTlNTblwU9X1nQW6E2c58cwcXr6vw8NpcU+wTyTtN27ybOgqUqLK1P04G4nLkXASxe+l3X+ebl50UPU3QldRUpZgLrUnn1sqD3HPBMazvsrAzj1EToiGQ/asSD8iMRfjwUpqnNy1jfHOprBqabtttb3MNI5RK2pIAbDCyVblf9FKKuqXOA6kadWeMu8FJJtSkYZvfhTve2tzrC/Cl55PlS179liF60ozIsCcl4XWUjqKCfTK/Jnmtp887BiQ6dyN6E8XVPnfVoaElvxSsLtAFa5+kOCOBAoNWxjKbEimVBT2bxkPwuMDQK+553m8MK9cTqKVVUeL5dv3yNwoL0OYqmgU+nUdj8Kpqkyihukz5jjeZM9kf3nyzPxKI0a5SgGTf6GdQvTIsL44fq9MqiqaZFI5Bf4IS0n2m7/iSHpDj+H5n9lFHZg8Xk12HS8O61C0coAJp15V5Eo5LUG9htmhyotZ2OiMcVkgjrKgEVc05M0nXrfwFYURepVD/Ldccy2oDHgO1J6lZdYrao9lSHJZrtdyzjSNSROZaxLkXdneqO0aPLVU/U4nrusZOehF5JHM4nC5I8mrbbZZlLAlodsPVSwYnWl4eDXmf+uJqEbEZS792m7c5MaLPkUsFV1UeOVNVH5Bb4umMZp7sAqovLl0Ju2u7IWHlJQPtBJbEXVU1tXsvaPR0SGGS8j2JjJYaDOUAtsNm03SFx5aUqmb0oOuN6bcu2herDEc4CD8ffS7oAqnA3VRIQYJdpu2OVFZvVpT2Ya8CGFq9x6dZQg9sRTVynOpZRG//9goDqWMZR4A5lSdmTIxTkX6p8U67gdlWFDyzbFsoPhRHDTHYsoyKxTtKIr2axWn0/FisvCWin1AvB0ypE9kg1jV7t29+Gft8YDI/24AvgVscyapL1lS6hE2s5ypGfU0lAE7+4sizoie8sVftzcCbQUBhv39HIwe0V4cjps568WJwA7nEsY1u6dpkAP0ssVBn4bGtD+wOySj6dedOKfZcVX6NP6N9HMz2PMe0d9G5q807WNXknqhoizYfrvby/z3gjPbhBnVJp+5VjGRmTylQvC3IFrZZXLMcytsSViyN/X37K5VtZbliGMWQriAsrk/cdxzKqM0HFK5UFx6i/jgK7FnhLLKeSi9tjbzWm7crrwfXqFUGe3SSvkm0hUajGsYzj3QFKVCoLCqBcnJeqZ4uXVWYjbyhrslmaXCnd69ZCdR+JqLvwolj4+d9IJRDdT6FzJeAfnIgJkv5GuikAAAAASUVORK5CYII="},eef0:function(t,e,s){"use strict";s.r(e),s("cadf"),s("551c"),s("f751"),s("097d");var a=s("22b4"),i=s("2909"),n=(s("7f7f"),s("ac6a"),s("b681")),o=s("1aa9"),l=s("82ea"),c=s("bfd3"),r=s("28a2"),d=s("b199"),u={components:{headerBetween:n.a,BaseDropdown:o.a,BaseButton:l.a,noList:c.a},data:function(){return{showDetail:!1,dropdown:[{text:"单次作业",value:!1},{text:"连续作业",value:!0}],defaultValue:!1,desc:"",cont:"",id:"",way:"",date:"",page:1,list:[],infiniteId:+new Date,assingmentWays:[],daysTypes:[],showImage:!1,images:[],titleInfo:{},dialog:!1,commentValue:"",taskDetailDesc:void 0,taskDetailImgs:[],taskDetailVideo:void 0}},created:function(){this.titleInfo=api.pageParam.data.item,this.getTaskDetail()},methods:{getTaskDetail:function(){var t=this;Object(d.d)(this.titleInfo.id).then((function(e){t.taskDetailDesc=e.value.desc||"",t.taskDetailImgs=e.value.hostImgs||[],t.taskDetailVideo=e.value.video||""})).catch((function(t){}))},imagePreview:function(t){Object(r.a)({images:this.taskDetailImgs,startPosition:t})},openDetail:function(){this.showDetail=!0},getData:function(t){var e=this;this.infiniteId===this.infiniteId&&Object(d.g)({page:this.page,pageSize:10,schoolAssignmentId:this.titleInfo.id,way:this.way,date:this.date}).then((function(s){var a,n=s.value;e.assingmentWays.length<=0&&(n.assingmentWays.forEach((function(t){t.text=t.name})),e.assingmentWays=n.assingmentWays,n.daysTypes.forEach((function(t){t.text=t.name})),e.daysTypes=n.daysTypes),n.value.data.length?((a=e.list).push.apply(a,Object(i.a)(n.value.data)),e.page+=1,t.loaded()):t.complete()}))},resetData:function(){this.list=[],this.page=1,this.infiniteId+=1},preview:function(t){this.images=t,this.showImage=!0},dropDownChange:function(t,e){this[e]=t,this.resetData()},setPraise:function(t,e){var s=this;Object(d.e)({assignmentId:t.id,status:!t.isExcellent}).then((function(a){a.success&&(t.isExcellent=!t.isExcellent,s.list.splice(e,1,t))}))},submit:function(t,e){var s=this;if(!t.reviewsContent)return this.$toast.fail("请输入点评内容");Object(d.a)({assignmentId:t.id,reviewsContent:t.reviewsContent}).then((function(t){t.success&&(s.list=[],s.page=1,s.infiniteId+=1,api.toast({msg:"点评成功"}))}))},commentClick:function(t,e){this.commentValue=t.reviewsContent,this.dialog=!0,this.index=e,this.id=t.id},closeDialog:function(){this.showDetail=!1},confirm:function(){var t=this;if(!this.commentValue)return this.$toast.fail("请输入点评内容");Object(d.a)({assignmentId:this.id,reviewsContent:this.commentValue}).then((function(e){e.success&&(t.list=[],t.page=1,t.infiniteId+=1,api.toast({msg:"点评成功"}),t.dialog=!1,t.commentValue="",api.sendEvent({name:"changeTodoNum"}))}))}}},v=(s("fb25"),s("2877")),f=Object(v.a)(u,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"record-wrap"},[a("div",{staticClass:"header"},[a("headerBetween",{attrs:{leftText:"作业记录",leftType:!0}}),a("div",{staticClass:"title flex"},[a("div",{staticClass:"title-left"},[a("div",{staticClass:"desc ellipsis_1"},[t._v(t._s(t.titleInfo.name)+" ")]),a("div",{staticClass:"item"},[t._v("开始日期："),a("span",[t._v(t._s(t._f("shortDate")(t.titleInfo.beginDate)))])]),a("div",{staticClass:"item"},[t._v("结束日期："),a("span",[t._v(t._s(t._f("shortDate")(t.titleInfo.endDate)))])]),a("div",{staticClass:"item"},[t._v("已提交："),a("span",[t._v(t._s(t.titleInfo.submitCount))])])]),a("div",{staticClass:"title-right"},[a("div",{staticClass:"type"},[t._v(t._s(t.titleInfo.isContinuous?"连续作业":"单次作业"))]),a("div",{staticClass:"num"},[t._v(t._s(t.titleInfo.studentCount)+"人")]),a("div",{staticClass:"open-detail",on:{click:t.openDetail}},[t._v("\n          查看作业要求\n          ")])])]),a("div",{staticClass:"screen flex"},[a("baseDropdown",{staticClass:"dropdown",attrs:{option:t.assingmentWays,defiaultValue:t.way,type:"way"},on:{change:t.dropDownChange}}),a("baseDropdown",{staticClass:"dropdown",attrs:{option:t.daysTypes,defaultValue:t.date,type:"date"},on:{change:t.dropDownChange}})],1)],1),a("div",{staticClass:"list"},t._l(t.list,(function(e,i){return a("div",{key:e.d,staticClass:"list-item"},[a("div",{staticClass:"title flex"},[a("div",{staticClass:"title-left flex"},[a("img",{staticClass:"image student-img",attrs:{src:e.childHeaderHost,alt:""}}),a("div",{staticClass:"name"},[t._v(t._s(e.childName))])]),a("div",{staticClass:"title-right"},[t._v(t._s(e.updateTime)+"上传")])]),e.imgArray.length?a("div",{staticClass:"pic",on:{click:function(s){return t.preview(e.imgArray)}}},[t._l(e.imgArray,(function(t){return[a("div",{staticClass:"pic-item"},[a("img",{attrs:{src:t,alt:""}})])]})),a("van-image-preview",{attrs:{images:t.images},model:{value:t.showImage,callback:function(e){t.showImage=e},expression:"showImage"}})],2):a("div",{staticClass:"video"},[a("video",{attrs:{controlsList:"nodownload",poster:s("d356"),src:e.video,controls:"",width:"100%",height:"100%"}},[t._v("您的浏览器不支持 video 标签。")])]),a("div",{staticClass:"desc cont"},[a("van-field",{staticClass:"field",attrs:{rows:1,readonly:"",autosize:"",type:"textarea"},model:{value:"作业描述："+e.content,callback:function(s){t.$set("作业描述："+e,"content",s)},expression:"'作业描述：'+item.content"}}),a("van-field",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{autosize:"",type:"textarea",placeholder:"请输入用户名"},model:{value:e.content,callback:function(s){t.$set(e,"content",s)},expression:"item.content"}})],1),e.reviewsContent?a("div",{staticClass:"desc "},[a("van-field",{attrs:{rows:3,autosize:"",type:"textarea",readonly:"",placeholder:"请输入点评内容"},model:{value:"点评内容："+e.reviewsContent,callback:function(s){t.$set("点评内容："+e,"reviewsContent",s)},expression:"'点评内容：'+item.reviewsContent"}}),a("van-field",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{autosize:"",type:"textarea",placeholder:"请输入用户名"},model:{value:t.desc,callback:function(e){t.desc=e},expression:"desc"}})],1):t._e(),a("div",{staticClass:"bottom flex"},[a("div",{staticClass:"icon-wrap"},[a("img",{attrs:{src:e.isExcellent?s("2b20"):s("36da")},on:{click:function(s){return t.setPraise(e,i)}}}),e.reviewsDate?t._e():a("img",{attrs:{src:s("6b66")},on:{click:function(s){return t.commentClick(e,i)}}})]),a("div",{staticClass:"comment-info"},[e.reviewsDate?a("div",{staticClass:"teacher-info flex"},[a("img",{staticClass:"image teacher-img",attrs:{src:e.teacherHeaderHost,alt:""}}),a("div",{staticClass:"name"},[t._v(t._s(e.teacherName))]),a("div",{staticClass:"time"},[t._v(t._s(t._f("shortDate")(e.reviewsDate)))])]):t._e()])])])})),0),a("infinite-loading",{attrs:{identifier:t.infiniteId,"infinite-scroll-distance":"10",direction:"bottom"},on:{infinite:t.getData}},[a("div",{staticClass:"whiteBg",attrs:{slot:"spinner"},slot:"spinner"},[t._v("读取中...")]),a("div",{staticClass:"whiteBg",attrs:{slot:"no-more"},slot:"no-more"},[t._v("已加载全部")]),a("div",{staticClass:"whiteBg",attrs:{slot:"no-results"},slot:"no-results"},[a("noList",{attrs:{text:"暂无记录"}})],1)]),a("van-overlay",{attrs:{show:t.dialog,"class-name":"dia"}},[a("div",{staticClass:"dialog"},[a("van-field",{attrs:{clearable:"",label:"文本",placeholder:"请输入点评内容","label-width":"4rem",type:"textarea",rows:"5",autosize:"",maxlength:"200","show-word-limit":""},model:{value:t.commentValue,callback:function(e){t.commentValue=e},expression:"commentValue"}}),a("div",{staticClass:"flex"},[a("base-button",{staticClass:"btn cancel",attrs:{name:"取消"},on:{click:function(e){t.dialog=!1}}}),a("base-button",{staticClass:"btn",attrs:{name:"确定"},on:{click:t.confirm}})],1)],1)]),a("van-dialog",{attrs:{showConfirmButton:!1},model:{value:t.showDetail,callback:function(e){t.showDetail=e},expression:"showDetail"}},[a("div",{staticClass:"detail-title",attrs:{slot:"title"},slot:"title"},[a("div"),a("div",[t._v("作业详情")]),a("div",{staticClass:"right-delete",on:{click:t.closeDialog}},[a("img",{attrs:{src:s("6548"),alt:""}})])]),a("div",{staticClass:"dialog-detail"},[a("div",{staticClass:"desc-wrap"},[a("div",{staticClass:"item-title"},[t._v("作业描述：")]),a("div",{staticClass:"desc"},[t._v(t._s(t.taskDetailDesc))])]),t.taskDetailImgs.length?a("div",{staticClass:"img-wrap"},[a("div",{staticClass:"img-list"},t._l(t.taskDetailImgs,(function(e,s){return a("div",{key:s,staticClass:"img-item-wrap"},[a("div",{staticClass:"img-item",on:{click:function(e){return t.imagePreview(s)}}},[a("img",{attrs:{src:e,alt:""}})])])})),0)]):t._e(),t.taskDetailVideo?a("div",{staticClass:"video-wrap"},[a("div",{staticClass:"video-list"},[a("video",{attrs:{controls:"",controlsList:"nodownload",src:t.taskDetailVideo,poster:s("d356")}},[t._v("不支持 video\n            标签。\n          ")])])]):t._e()])])],1)}),[],!1,null,"7dc8e3d8",null).exports;new a.a({el:"#app",render:function(t){return t(f)}})},fb25:function(t,e,s){"use strict";var a=s("1a37");s.n(a).a}});